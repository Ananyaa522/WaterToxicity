<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <title>WaterToxicity</title>
</head>
<body>
    
    <script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script type="text/javascript" src="script.js"></script>
    
    <!--Cards to display pH,PPM,Algal detection-->
    <div class="row" id="load" >
        <div class="col-md-4 col-sm-4" >
            <div class="card border-danger" id="card1">
            <div class="card-body">
                <h5 class="card-title">pH</h5>
                <p class="card-text"></p>
                <a href="#" onclick="checking()" class="btn btn-primary">Check stats</a>
            </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-4" >
            <div class="card border-warning" id="card2">
            <div class="card-body">
                <h5 class="card-title">PPM</h5>
                <p class="card-text"></p>
                <a href="#" onclick="createppmChart()" class="btn btn-primary">check stats</a>
            </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-4" >
            <div class="card border-success" id="card3">
            <div class="card-body">
                <h5 class="card-title">Algal Detection</h5>
                <p class="card-text"></p>
                <a href="#" onclick="createAlgalChart()" class="btn btn-primary">Check stats</a>
            </div>
            </div>
        </div>
    </div>
    <div class="chart-container" style="display: flex; justify-content: center;">
        <div class="col-md-10 col-sm-6" >
            <canvas id="myChart" ></canvas>
        </div>
    </div>

    <script type="module">
      // Import the functions you need from the SDKs you need
      // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
      // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      import { getDatabase } from "firebase/database";
      const firebaseConfig = {
        apiKey: "AIzaSyCK2bIriOLNEpPDiQeM_ic4tsVuw9AKXsQ",
        authDomain: "water-toxicity-1.firebaseapp.com",
        projectId: "water-toxicity-1",
        storageBucket: "water-toxicity-1.appspot.com",
        messagingSenderId: "1038286610925",
        appId: "1:1038286610925:web:077578d4d83c09793747e4",
        databaseURL: "https://water-toxicity-1-default-rtdb.asia-southeast1.firebasedatabase.app/",
        measurementId: "G-517HS0Z5BN"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const database = getDatabase(app);
      //Add Data into database
       const date = new Date();
      // let obj = {
      //     pH : 7.7,
      //     PPM : 20,
      //     Algal : 20
      // }
      // firebase.database().ref('Readings/'+date).set(obj)

      // import { getDatabase, ref, set } from "firebase/database";
      // function loadData()
      // {
      //   const db = getDatabase();
      //   set(ref(db, 'Readings/' + date), {
      //     pH: 7.7,
      //     PPM: 15,
      //     Algal_value : 20
      //   });
      // }
      // var firebaseRef = firebase.database().ref('Readings/' + date);
      // document.querySelector('#load').addEventListener('load',()=>{
      //   const check = 7;
      //   firebaseRef.push(check)
      // }
      // )
      firebase.database().ref('/Readings').on('value',(snapshot)=>{
        console.log(snapshot.val())
      })
        
    </script>
</body>
</html>